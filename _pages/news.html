---
title: News
big_header:
  bh_title: News and events
  bh_css: bg-salt
description: Stay up to date with PCfN news and upcoming events.
sections:
- News feed
---
<main class="bg-pattern-circuit f4-m f3-l lh-copy min-vh-100 pa3 pa4-m pv5-l ph6-l">
  <div class="mw-55rem center">
    <section id="{{ page.sections[0] | slugify }}" class="pv3 pv4-m pv5-l">
      <div class="bg-white shadow-6 br2">
        <h2 class="bg-dark-green near-white font-default lh-title b pt4 pb3 pt5-ns pb4-ns ph3 ph4-m ph5-l br2 br--top mb0">
          {{ page.sections[0] }}
        </h2>
        <!-- ANNOUNCEMENTS -->
        {% assign ongoing_announcements = false %}
        {% assign todays_date = site.time | date: "%Y-%m-%d" %}
        {% assign announcements_sorted = site.announcements | sort: "date_start" | reverse %}
        {% for announcement in announcements_sorted %}
          {% assign ds = announcement.date_start | date: "%Y-%m-%d" %}
          {% assign de = announcement.date_end | date: "%Y-%m-%d" %}
          {% if todays_date >= ds and todays_date <= de %}
            {% assign ongoing_announcements = true %}
            {% break %}
          {% endif %}
        {% endfor %}
        {% if ongoing_announcements %}
          <h3 id="announcements" class="bg-near-white light-silver lh-title font-default pv3 ph3 ph4-m ph5-l bt bb b--black-10 mb0">
            Announcements
          </h3>
          {% assign first_announcement = true %}
          {% for announcement in announcements_sorted %}
            {% assign de = announcement.date_end | date: "%Y-%m-%d" %}
            {% unless de < todays_date %}
              <div class="pv4 ph3 ph4-m ph5-l {% unless first_announcement %} bt b--black-10{% endunless %}">
                {% include components/announcement.html %}
              </div>
              {% assign first_announcement = false %}
            {% endunless %}
          {% endfor %}
        {% endif %}
        <!-- EVENTS -->
        {% assign upcoming_events = false %}
        {% assign events_sorted = site.events | sort: "date_start" %}
        {% for event in events_sorted %}
          {% assign de = event.date_end | date: "%Y-%m-%d" %}
          {% if de >= todays_date %}
            {% assign upcoming_events = true %}
            {% break %}
          {% endif %}
        {% endfor %}
        {% if upcoming_events %}
          <h3 id="events" class="bg-near-white light-silver lh-title font-default pv3 ph3 ph4-m ph5-l bt bb b--black-10 mb0">
            Events
          </h3>
          {% assign first_event = true %}
          {% for event in events_sorted %}
            {% assign de = event.date_end | date: "%Y-%m-%d" %}
            {% unless de < todays_date %}
              <div class="pv4 ph3 ph4-m ph5-l {% unless first_event %} bt b--black-10{% endunless %}">
                {% include components/event.html %}
              </div>
              {% assign first_event = false %}
            {% endunless %}
          {% endfor %}
        {% endif %}
        <!-- NEWS -->
        <h3 class="bg-near-white light-silver lh-title font-default pv3 ph3 ph4-m ph5-l bt bb b--black-10 mb0">
          News
        </h3>
        <div class="js-vt-container">
          <div class="js-vt-viewer" data-vt-viewer-type="show-more" data-vt-show-more-init-visible="3" data-vt-show-more-max="5" data-vt-show-more-responsive="false">
            {% comment %}not sorting by date for now because json has been manually ordered when there are two items with same date{% endcomment %}
            {% assign news_sorted = site.data.external.news %}
            {% for news_item in news_sorted %}
              {% if news_item.site_pcfn and news_item.archived == false %}
                <div class="pv4 ph3 ph4-m ph5-l{% unless forloop.index == 1 %} bt b--black-10{% endunless %}">
                  {% include components/news.html %}
                </div>
              {% endif %}
            {% endfor %}
          </div>
          <div class="js-vt-button-wrap ph3 ph4-ns pb3 pb4-ns">
            <div class="js-vt-button flex items-center justify-center bg-dark-green white dim-l pointer f5 f4-ns lh-title b w-100 pv3 ph5-ns br2">
              <span class="mr3">
                Show more
              </span>
              {% octicon chevron-down height:16 class:"fill-white" %}
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</main>
